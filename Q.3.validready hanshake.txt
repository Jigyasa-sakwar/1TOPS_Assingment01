`timescale 1ns / 1ps

module validready(
input clk,
input rst,
input [7:0]data_in,
input valid,

input  ready,
output reg [7:0]data_out);

always @( posedge clk or posedge rst) begin
if(rst)
  data_out<=0;
  
else if(valid && ready)
  data_out<=data_in;
  end  
endmodule

#2
`timescale 1ns / 1ps

module vrhandshake(
input clk,
input rst,
input wire [7:0]data_in,
input wire  ready_in,
input  wire valid_in,

output reg [7:0]data_out,
output  wire ready_out,
output reg valid_out);

assign ready_out = ready_in||!valid_out; 

always @(posedge clk or posedge rst) begin
        if(rst)begin
            data_out<=8'h0;
             valid_out <=1'b0;
 
        end 
        else begin
               if(valid_in && ready_out)begin
                      data_out <= data_in;
                       valid_out <= 1'b1;
  
                end  
                else if(ready_in) begin
                        valid_out <= 1'b0;
                 end
        end
 end