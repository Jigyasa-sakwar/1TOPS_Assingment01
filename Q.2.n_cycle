`timescale 1ns / 1ps

module n_cyclepulse #(
  parameter N = 7 
  )(
 input clk,
input rst,
input wire pulse_in,
output wire pulse_out);

reg [$clog2(N):0]count;

assign pulse_out= count!=0;
always @(posedge clk or negedge rst)begin
      if (!rst)begin
          count <= 0;
     end  
          else if (pulse_in)begin
                 count <= N;
          end  
           else if (count!=0)begin
                 count <= count-1;
           end
 end

endmodule